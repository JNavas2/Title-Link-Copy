<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Title-Link Copy</title>
  <style>
    /**
     * Title-Link Copy - Popup Styles - Auto-Save Options
     * ¬© John Navas 2025, All Rights Reserved
     */

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, "Helvetica Neue", Arial, sans-serif;
      color: #222;
      background: transparent;
    }

    /* Main Container */
    .popup-container {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      background: #fff;
      padding: 8px;
      gap: 6px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
    }

    /* Quick Actions Section */
    .quick-actions {
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding-top: 4px;
      margin: 0 16px;
    }

    /* Matches Settings Header style + Center alignment */
    .popup-instructions {
      font-size: 16px;
      font-weight: 700;
      color: #333;
      margin-bottom: 4px;
      text-align: center;
    }

    /* Wrapper for Center Alignment + Equal Width */
    .button-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      width: fit-content;
      /* Shrink to fit the widest button */
      margin: 0 auto;
      /* Center the group horizontally */
    }

    /* UNIFIED BUTTON STYLES */
    .popup-button {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      border-radius: 8px;
      border: 1px solid #d0d0d0;
      background: #f0f0f0;
      color: #111;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      min-height: 44px;
      justify-content: flex-start;
      width: 100%;
      /* Stretch to fill the .button-group wrapper */
      white-space: nowrap;
    }

    .popup-button:hover {
      background: #e0e8ff;
      border-color: #a8b8ff;
    }

    .popup-button:active {
      transform: translateY(0.5px);
      opacity: 0.98;
    }

    .button-icon {
      font-size: 18px;
      line-height: 1;
      flex-shrink: 0;
    }

    .button-text {
      white-space: nowrap;
    }

    /* Options Section - Prominent Divider */
    .options-section {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 2px solid #ccc;
    }

    .options-header {
      font-size: 16px;
      font-weight: 700;
      color: #333;
      margin-bottom: 12px;
    }

    .combo-card {
      background: #fafafa;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .setting-group {
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid #f0f0f0;
    }

    .setting-group:last-of-type {
      border-bottom: none;
    }

    .setting-group label {
      display: block;
      font-size: 12px;
      font-weight: 600;
      color: #333;
      margin-bottom: 6px;
    }

    /* Font Size 13px */
    .setting-description {
      font-size: 13px;
      color: #999;
      margin-bottom: 6px;
      line-height: 1.3;
    }

    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .radio-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 12px;
      color: #555;
      user-select: none;
      padding: 8px;
      border-radius: 4px;
      transition: background 0.2s ease;
      min-height: 40px;
    }

    .radio-label:active {
      background: #f0f0f0;
    }

    .radio-label input[type="radio"] {
      margin-right: 10px;
      width: 16px;
      height: 16px;
      accent-color: #667eea;
      margin-top: 0;
    }

    /* OPTICAL ALIGNMENT FIX: Increased to -3px */
    .radio-label span {
      position: relative;
      top: -3px;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      color: #333;
      user-select: none;
      padding: 8px;
      border-radius: 4px;
      min-height: 40px;
    }

    .checkbox-label:active {
      background: #f5f5f5;
    }

    .checkbox-label input[type="checkbox"] {
      margin-right: 10px;
      width: 16px;
      height: 16px;
      accent-color: #667eea;
      margin-top: 0;
    }

    /* OPTICAL ALIGNMENT FIX: Increased to -3px */
    .checkbox-label span {
      position: relative;
      top: -3px;
    }

    .preview-group {
      background: #f0f7ff;
      padding: 10px;
      border-radius: 6px;
      border-left: 3px solid #667eea;
      margin-bottom: 12px;
    }

    .preview-group h3 {
      font-size: 11px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #333;
    }

    .preview-box {
      background: white;
      padding: 8px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 10px;
      color: #555;
      line-height: 1.4;
      border: 1px solid #ddd;
      max-height: 100px;
      overflow-y: auto;
    }

    .preview-item {
      padding: 1px 0;
      word-break: break-word;
    }

    .preview-item.hidden {
      display: none;
    }

    /* Auto-save status */
    .auto-save-status {
      font-size: 11px;
      color: #2e7d32;
      background: #e8f5e9;
      padding: 4px 8px;
      border-radius: 4px;
      opacity: 0;
      transition: opacity 200ms ease;
      margin-top: 8px;
      text-align: center;
      font-weight: 500;
    }

    .auto-save-status.show {
      opacity: 1;
    }

    /* Status */
    .popup-status {
      font-size: 12px;
      color: #2e7d32;
      background: #e8f5e9;
      padding: 6px 8px;
      border-radius: 6px;
      opacity: 0;
      transition: opacity 160ms ease;
      margin-top: 8px;
      text-align: center;
    }

    .popup-status.show {
      opacity: 1;
    }

    /* Responsive - Desktop constraint only */
    @media (min-width: 481px) {
      .popup-container {
        max-width: 380px;
      }
    }
  </style>
</head>

<body>
  <div class="popup-container">
    <div class="quick-actions">
      <p class="popup-instructions">Select an option to copy:</p>

      <div class="button-group">
        <button id="copy-title-link" class="popup-button">
          <span class="button-icon">üìù</span>
          <span class="button-text">Title + Link</span>
        </button>

        <button id="copy-title-only" class="popup-button">
          <span class="button-icon">üìã</span>
          <span class="button-text">Title only</span>
        </button>

        <button id="copy-link-only" class="popup-button">
          <span class="button-icon">üîó</span>
          <span class="button-text">Link only</span>
        </button>

        <button id="copy-hyperlink" class="popup-button">
          <span class="button-icon">üåê</span>
          <span class="button-text">Hyperlink</span>
        </button>
      </div>

      <div class="popup-status" id="status-message"></div>
    </div>

    <div class="options-section">
      <h2 class="options-header">‚öôÔ∏è Settings <span style="font-size: 13px; color: #666;">(Auto-save)</span></h2>

      <div class="combo-card">
        <div class="setting-group">
          <label for="text-placement">Selected Text Placement:</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="text-placement" value="above" id="placement-above">
              <span>Above the link</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="text-placement" value="below" id="placement-below">
              <span>Below the link</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="text-placement" value="none" id="placement-none">
              <span>Don't include selected text</span>
            </label>
          </div>
        </div>

        <div class="setting-group">
          <label class="checkbox-label" for="ap-title-case">
            <input type="checkbox" id="ap-title-case" name="ap-title-case">
            <span>Apply AP-style title casing</span>
          </label>
          <p class="setting-description">
            Automatically format titles in AP-style title case.
          </p>
        </div>

        <div class="setting-group preview-group">
          <h3>Preview:</h3>
          <div class="preview-box">
            <p class="preview-item" id="preview-title">Example Title Here</p>
            <p class="preview-item" id="preview-link">https://example.com</p>
            <p class="preview-item hidden" id="preview-selected">Selected text excerpt</p>
          </div>
        </div>

        <div class="auto-save-status" id="auto-save-status">‚úì Saved</div>
      </div>
    </div>
  </div>

  <script src="utils.js"></script>
  <script src="options.js"></script>
  <script src="popup.js"></script>
</body>

</html>